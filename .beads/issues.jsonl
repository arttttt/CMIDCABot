{"id":"DCATgBot-l6j","title":"Migration: GitHub Projects → Beads","description":"Замена GitHub Projects на Beads. Workflow остаётся прежним (brief → spec → implement → review), меняется только трекер.\n\n## Workflow Overview\n\n### Path 1: Brief → Spec\n```\n/brief feature_x  → analyst → docs/drafts/BRIEF_feature_x.md\n/publish          → epic (large) or issue (simple)\n/spec feature_x   → pm → docs/drafts/TASK_feature_x.md\n/publish          → creates children + deps (epic) or updates issue\n/implement        → developer → code\n/review           → reviewer → findings\n```\n\n### Path 2: Spec Only\n```\n/spec feature_x   → pm → docs/drafts/TASK_feature_x.md\n/publish          → epic + children + deps (large) or issue (simple)\n/implement        → developer → code\n/review           → ...\n```\n\n## Dependencies Types\n| Type | Meaning |\n|------|---------|\n| parent-child | Epic → children hierarchy |\n| blocks | Execution order (PM sets in /spec) |\n| discovered-from | Found during work |\n| related | Informational link |","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2026-01-09T01:01:08.090215+02:00","created_by":"artem","updated_at":"2026-01-09T02:35:58.179829+02:00"}
{"id":"DCATgBot-l6j.1","title":"Setup: create docs/drafts directory","description":"## Commands\n```bash\nmkdir -p docs/drafts\necho '{}' \u003e docs/drafts/.refs.json\n```\n\n## Purpose\n`.refs.json` tracks draft-to-issue mapping:\n```json\n{\n  \"feature_x\": {\n    \"issue_id\": \"bd-abc\",\n    \"type\": \"epic\"\n  }\n}\n```","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T01:01:19.393032+02:00","created_by":"artem","updated_at":"2026-01-09T02:31:51.045482+02:00","closed_at":"2026-01-09T02:31:51.045482+02:00","close_reason":"PR #238 merged","dependencies":[{"issue_id":"DCATgBot-l6j.1","depends_on_id":"DCATgBot-l6j","type":"parent-child","created_at":"2026-01-09T01:01:19.393807+02:00","created_by":"artem"}]}
{"id":"DCATgBot-l6j.2","title":"Archive old workflow files","description":"## Archive structure\n```\n.claude/archive/\n├── commands/\n│   ├── brief.md\n│   ├── spec.md\n│   ├── publish.md\n│   ├── implement.md\n│   ├── status.md\n│   ├── review.md\n│   ├── fix.md\n│   └── consult.md\n└── skills/\n    └── tracker-github/\n```\n\n## What to archive\n- **commands/** — all current commands (use GitHub Projects, need replacement)\n- **skills/tracker-github** — old GitHub tracker skill\n\n## What NOT to archive\n- **agents/** — will be updated in place (task .5)\n\n## Commands\n```bash\nmkdir -p .claude/archive/commands\nmkdir -p .claude/archive/skills\n\n# Commands (all use old GitHub workflow)\nmv .claude/commands/brief.md .claude/archive/commands/\nmv .claude/commands/spec.md .claude/archive/commands/\nmv .claude/commands/publish.md .claude/archive/commands/\nmv .claude/commands/implement.md .claude/archive/commands/\nmv .claude/commands/status.md .claude/archive/commands/\nmv .claude/commands/review.md .claude/archive/commands/\nmv .claude/commands/fix.md .claude/archive/commands/\nmv .claude/commands/consult.md .claude/archive/commands/\n\n# Skills\nmv .claude/skills/tracker-github .claude/archive/skills/\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T01:01:19.563765+02:00","created_by":"artem","updated_at":"2026-01-09T02:25:48.842263+02:00","closed_at":"2026-01-09T02:25:48.842263+02:00","close_reason":"PR #237 merged","dependencies":[{"issue_id":"DCATgBot-l6j.2","depends_on_id":"DCATgBot-l6j","type":"parent-child","created_at":"2026-01-09T01:01:19.564404+02:00","created_by":"artem"}]}
{"id":"DCATgBot-l6j.3","title":"Create Beads skill","description":"## File: `.claude/skills/beads/SKILL.md`\n\n```markdown\n---\nname: beads\ndescription: \"Issue tracking with Beads. Commands abstract bd CLI — user never writes bd commands directly.\"\nallowed-tools: Bash\n---\n\n# Beads Issue Tracker\n\n## Core Concepts\n\n- **bd ready** — tasks with no blockers\n- **Status**: open → in_progress → closed\n- **Types**: task, bug, feature, epic, chore\n- **Priority**: 0 (critical) → 4 (low), default 2\n- **Dependencies**: only `blocks` affects ready\n\n## Commands Reference\n\n### Create\nbd create \"Title\" -d \"Description\" -t task -p 2 --json\nbd create \"Feature X\" -t epic -p 1 -d \"Context\" --json\nbd create \"Subtask\" -t task -p 2 --parent \u003cepic-id\u003e --json\n\n### Dependencies\nbd dep add \u003cB-id\u003e \u003cA-id\u003e --type blocks        # A blocks B\nbd dep add \u003cnew-id\u003e \u003cparent-id\u003e --type discovered-from\nbd dep add \u003cid1\u003e \u003cid2\u003e --type related\n\n### Query\nbd ready --json\nbd show \u003cid\u003e --json\nbd list --status open --json\nbd blocked --json\nbd dep tree \u003cid\u003e\n\n### Update\nbd update \u003cid\u003e --status in_progress --json\nbd update \u003cid\u003e -d \"New description\" --json\nbd update \u003cid\u003e --notes \"Progress update\" --json\n\n### Close\nbd close \u003cid\u003e --reason \"Done: summary\" --json\n\n### Sync\nbd sync\n\n## Draft Tracking\n`docs/drafts/.refs.json` tracks draft-to-issue mapping.\n\n## Session End Protocol\n1. bd update \u003cid\u003e --notes \"...\"\n2. bd close \u003cid\u003e --reason \"...\"\n3. bd sync\n4. git push\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T01:01:19.736887+02:00","created_by":"artem","updated_at":"2026-01-09T02:35:54.016771+02:00","closed_at":"2026-01-09T02:35:54.016771+02:00","close_reason":"Created .claude/skills/beads/SKILL.md","dependencies":[{"issue_id":"DCATgBot-l6j.3","depends_on_id":"DCATgBot-l6j","type":"parent-child","created_at":"2026-01-09T01:01:19.737446+02:00","created_by":"artem"}]}
{"id":"DCATgBot-l6j.4","title":"Create commands (brief, spec, publish, implement, review, fix, status)","description":"## Files to create (7)\n\n### 1. `.claude/commands/brief.md`\n- Use subagent `analyst`\n- Interaction: Questions → Draft → Save\n- Output: `docs/drafts/BRIEF_\u003cname\u003e.md`\n- Format: Context, Goals, Scope, Out of Scope, Open Questions\n\n### 2. `.claude/commands/spec.md`\n- Use subagent `pm`\n- Check existing brief, check `.refs.json`\n- Output: `docs/drafts/TASK_\u003cname\u003e.md`\n- Formats: simple task (AC) or epic (Tasks + Dependencies)\n\n### 3. `.claude/commands/publish.md`\n- Find drafts: BRIEF_*.md, TASK_*.md\n- Check `.refs.json` for existing issue\n- Logic:\n  - Only BRIEF → create task/epic (no children)\n  - Only TASK, no prior → create task or epic+children+deps\n  - TASK + prior issue → create children or update description\n- Delete drafts after publish\n\n### 4. `.claude/commands/implement.md`\n- Use subagent `developer`\n- Select from `bd ready` or use provided ID\n- Claim task (in_progress)\n- Do NOT close — wait for review\n\n### 5. `.claude/commands/review.md`\n- Use subagent `reviewer`\n- Categorize: related vs unrelated findings\n- Unrelated → ask to create issues with `discovered-from`\n- If passed → close task\n\n### 6. `.claude/commands/fix.md`\n- Use subagent `developer`\n- Fix review findings\n- After fix → `/review` again\n\n### 7. `.claude/commands/status.md`\n- If ID → show task + dependency tree\n- If no ID → show stats + ready + blocked","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T01:01:19.910252+02:00","created_by":"artem","updated_at":"2026-01-09T01:21:04.145513+02:00","dependencies":[{"issue_id":"DCATgBot-l6j.4","depends_on_id":"DCATgBot-l6j","type":"parent-child","created_at":"2026-01-09T01:01:19.910894+02:00","created_by":"artem"},{"issue_id":"DCATgBot-l6j.4","depends_on_id":"DCATgBot-l6j.3","type":"blocks","created_at":"2026-01-09T01:01:39.405331+02:00","created_by":"artem"}]}
{"id":"DCATgBot-l6j.5","title":"Update agents (analyst, pm, developer, reviewer)","description":"## Files to update (4)\n\n### 1. `.claude/agents/analyst.md`\n- Purpose: Create briefs — context, goals, scope\n- Output: `docs/drafts/BRIEF_\u003cname\u003e.md`\n- Rules: Focus on WHY/WHAT not HOW, clear scope, no implementation\n\n### 2. `.claude/agents/pm.md`\n- Purpose: Create specifications — AC, decomposition, dependencies\n- Output: `docs/drafts/TASK_\u003cname\u003e.md`\n- Rules: Verifiable AC, clear decomposition, define deps including nested\n\n### 3. `.claude/agents/developer.md`\n- Purpose: Implement tasks from Beads tracker\n- Rules: Plan first, granular commits with issue ID, report discoveries\n\n### 4. `.claude/agents/reviewer.md`\n- Purpose: Review implementation quality\n- Rules: Check AC, check quality, separate related/unrelated issues, no code changes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T01:01:20.086907+02:00","created_by":"artem","updated_at":"2026-01-09T01:21:21.020116+02:00","dependencies":[{"issue_id":"DCATgBot-l6j.5","depends_on_id":"DCATgBot-l6j","type":"parent-child","created_at":"2026-01-09T01:01:20.087607+02:00","created_by":"artem"}]}
{"id":"DCATgBot-l6j.6","title":"Update CLAUDE.md","description":"## Changes to CLAUDE.md\n\n### Update Commands table\n| Command | Purpose | Agent | Output |\n|---------|---------|-------|--------|\n| /brief \u003cname\u003e | Technical brief | analyst | docs/drafts/BRIEF_*.md |\n| /spec \u003cname\u003e | Specification | pm | docs/drafts/TASK_*.md |\n| /publish \u003cname\u003e | Create/update issue | — | Beads issue |\n| /implement [id] | Implement task | developer | code |\n| /review [id] | Code review | reviewer | findings |\n| /fix [id] | Fix review issues | developer | code |\n| /status [id] | Show status | — | chat |\n| /consult | Consultation | analyst | chat |\n\n### Update Workflow section\n```\n/brief → /publish → /spec → /publish → /implement → /review → done\n```\n\n### Remove\n- All GitHub Projects references\n- All `bd` command examples (users don't write bd directly)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T01:01:20.268771+02:00","created_by":"artem","updated_at":"2026-01-09T01:21:21.155182+02:00","dependencies":[{"issue_id":"DCATgBot-l6j.6","depends_on_id":"DCATgBot-l6j","type":"parent-child","created_at":"2026-01-09T01:01:20.26937+02:00","created_by":"artem"},{"issue_id":"DCATgBot-l6j.6","depends_on_id":"DCATgBot-l6j.4","type":"blocks","created_at":"2026-01-09T01:01:39.561646+02:00","created_by":"artem"},{"issue_id":"DCATgBot-l6j.6","depends_on_id":"DCATgBot-l6j.5","type":"blocks","created_at":"2026-01-09T01:01:39.692102+02:00","created_by":"artem"}]}
