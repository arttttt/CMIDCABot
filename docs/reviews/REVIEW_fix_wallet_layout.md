# Code Review: Fix Recovery Phrase Page Layout

**Reviewed:** `src/presentation/web/SecretPageHandler.ts` (–º–µ—Ç–æ–¥ `sendSeedPhrasePage`, CSS)
**Date:** 2025-12-24
**Status:** üî¥ Needs work

---

## Summary

–ò–∑–º–µ–Ω–µ–Ω–∏—è —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—à–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –≤—ë—Ä—Å—Ç–∫–æ–π, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–æ–≤. –í—ë—Ä—Å—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –ø–æ–¥ —à–∏—Ä–∏–Ω—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

---

## Findings

### üî¥ Critical (must fix before merge)

#### [C1] –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –≤—ë—Ä—Å—Ç–∫–∏

**Location:** `src/presentation/web/SecretPageHandler.ts:102-106`
**Issue:** Grid –∂—ë—Å—Ç–∫–æ –∑–∞–¥–∞–Ω –∫–∞–∫ 3 –∫–æ–ª–æ–Ω–∫–∏ (`repeat(3, 1fr)`) –±–µ–∑ media queries. –í—ë—Ä—Å—Ç–∫–∞ –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
**Impact:**
- –ù–∞ —ç–∫—Ä–∞–Ω–∞—Ö <360px —Å–ª–æ–≤–∞ —Å–∂–∏–º–∞—é—Ç—Å—è –∏ –º–æ–≥—É—Ç –æ–±—Ä–µ–∑–∞—Ç—å—Å—è
- –ù–∞ —à–∏—Ä–æ–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö (–ø–ª–∞–Ω—à–µ—Ç—ã) layout –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
- –ù–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø responsive design ‚Äî –≤—ë—Ä—Å—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π

**Suggestion:**
```css
.words {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}
@media (min-width: 400px) {
  .words {
    grid-template-columns: repeat(3, 1fr);
  }
}
@media (min-width: 600px) {
  .words {
    grid-template-columns: repeat(4, 1fr);
  }
}
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS Grid auto-fit:
```css
.words {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 8px;
}
```

---

### üü° Should Fix (important but not blocking)

–ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

---

### üü¢ Consider (nice to have, minor improvements)

#### [N1] overflow: hidden –º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç

**Location:** `src/presentation/web/SecretPageHandler.ts:100`
**Observation:** `overflow: hidden` —Å–∫—Ä—ã–≤–∞–µ—Ç –ª—é–±–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç, –≤—ã—Ö–æ–¥—è—â–∏–π –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã. –î–ª—è BIP39 —Å–ª–æ–≤ (–º–∞–∫—Å. 8 —Å–∏–º–≤–æ–ª–æ–≤) —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, –Ω–æ –¥–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö seed-—Ñ—Ä–∞–∑ –º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å.
**Suggestion:** –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `overflow-x: hidden` –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è, –ª–∏–±–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî BIP39 —Å–ª–æ–≤–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∫–æ—Ä–æ—Ç–∫–∏–µ.

#### [N2] –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π .secret-box

**Location:** `src/presentation/web/SecretPageHandler.ts:94-101` –∏ `:163-169`
**Observation:** `.secret-box` –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö (seed phrase –∏ private key —Å—Ç—Ä–∞–Ω–∏—Ü—ã) —Å –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏. –í seed phrase –¥–æ–±–∞–≤–ª–µ–Ω `overflow: hidden`, –≤ private key ‚Äî –Ω–µ—Ç.
**Suggestion:** –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ, –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ –≤ `BASE_STYLES` –≤ `html.ts`. –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏.

---

## Checklist Results

| Category | Status | Notes |
|----------|--------|-------|
| Correctness | ‚ö†Ô∏è | –ß–∞—Å—Ç–∏—á–Ω–æ ‚Äî –Ω–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ |
| Architecture | ‚úÖ | –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ Presentation layer |
| Security | ‚úÖ | CSS-only, XSS-–∑–∞—â–∏—Ç–∞ —É–∂–µ –µ—Å—Ç—å (HtmlUtils.escape) |
| Code Quality | ‚úÖ | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–æ—á–µ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è |
| Conventions | ‚úÖ | –°–ª–µ–¥—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º |

---

## Action Items

- [ ] [C1] **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:** –î–æ–±–∞–≤–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (media queries –∏–ª–∏ auto-fit)
- [ ] [N2] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ .secret-box –≤ BASE_STYLES

---

## Verdict

**–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞.** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å responsive –≤—ë—Ä—Å—Ç–∫—É ‚Äî grid –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ —à–∏—Ä–∏–Ω—É —ç–∫—Ä–∞–Ω–∞.
