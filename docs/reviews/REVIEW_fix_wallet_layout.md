# Code Review: Fix Recovery Phrase Page Layout

**Reviewed:** `src/presentation/web/SecretPageHandler.ts` (–º–µ—Ç–æ–¥ `sendSeedPhrasePage`, CSS)
**Date:** 2025-12-24
**Status:** üü° Approved with comments

---

## Summary

–ò–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ—à–∞—é—Ç –∑–∞—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –≤—ë—Ä—Å—Ç–∫–æ–π. CSS-–ø—Ä–∞–≤–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã –∏ —Ç–æ—á–µ—á–Ω—ã. –ï—Å—Ç—å –æ–¥–Ω–æ —É–ª—É—á—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–ª—è –ª—É—á—à–µ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—á–µ–Ω—å —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö.

---

## Findings

### üî¥ Critical (must fix before merge)

–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º.

---

### üü° Should Fix (important but not blocking)

#### [S1] –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –æ—á–µ–Ω—å —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

**Location:** `src/presentation/web/SecretPageHandler.ts:102-106`
**Issue:** Grid —Å 3 –∫–æ–ª–æ–Ω–∫–∞–º–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö 320px –¥–∞—ë—Ç ~90px –Ω–∞ –∫–æ–ª–æ–Ω–∫—É (320 - 40 padding - 16 gap) / 3. –ü—Ä–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ö (8+ —Å–∏–º–≤–æ–ª–æ–≤) —Ç–µ–∫—Å—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–µ—Å–Ω—ã–º.
**Impact:** UX –Ω–∞ —Å—Ç–∞—Ä—ã—Ö/–±—é–¥–∂–µ—Ç–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å –º–∞–ª–µ–Ω—å–∫–∏–º–∏ —ç–∫—Ä–∞–Ω–∞–º–∏.
**Suggestion:**
```css
.words {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
}
@media (max-width: 359px) {
  .words {
    grid-template-columns: repeat(2, 1fr);
  }
}
```

---

### üü¢ Consider (nice to have, minor improvements)

#### [N1] overflow: hidden –º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç

**Location:** `src/presentation/web/SecretPageHandler.ts:100`
**Observation:** `overflow: hidden` —Å–∫—Ä—ã–≤–∞–µ—Ç –ª—é–±–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç, –≤—ã—Ö–æ–¥—è—â–∏–π –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã. –î–ª—è BIP39 —Å–ª–æ–≤ (–º–∞–∫—Å. 8 —Å–∏–º–≤–æ–ª–æ–≤) —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, –Ω–æ –¥–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö seed-—Ñ—Ä–∞–∑ –º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å.
**Suggestion:** –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `overflow-x: hidden` –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è, –ª–∏–±–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚Äî BIP39 —Å–ª–æ–≤–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∫–æ—Ä–æ—Ç–∫–∏–µ.

#### [N2] –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π .secret-box

**Location:** `src/presentation/web/SecretPageHandler.ts:94-101` –∏ `:163-169`
**Observation:** `.secret-box` –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö (seed phrase –∏ private key —Å—Ç—Ä–∞–Ω–∏—Ü—ã) —Å –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏. –í seed phrase –¥–æ–±–∞–≤–ª–µ–Ω `overflow: hidden`, –≤ private key ‚Äî –Ω–µ—Ç.
**Suggestion:** –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ, –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ –≤ `BASE_STYLES` –≤ `html.ts`. –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏.

---

## Checklist Results

| Category | Status | Notes |
|----------|--------|-------|
| Correctness | ‚úÖ | –í—Å–µ acceptance criteria –≤—ã–ø–æ–ª–Ω–µ–Ω—ã |
| Architecture | ‚úÖ | –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ Presentation layer |
| Security | ‚úÖ | CSS-only, XSS-–∑–∞—â–∏—Ç–∞ —É–∂–µ –µ—Å—Ç—å (HtmlUtils.escape) |
| Code Quality | ‚úÖ | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–æ—á–µ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è |
| Conventions | ‚úÖ | –°–ª–µ–¥—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º |

---

## Action Items

- [ ] [S1] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ media query –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤ <360px (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] [N2] –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —Å—Ç–∏–ª–∏ .secret-box –≤ BASE_STYLES (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

---

## Verdict

**–ú–æ–∂–Ω–æ –º–µ—Ä–∂–∏—Ç—å.** –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã. S1 ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –¥–ª—è edge case, –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ.
